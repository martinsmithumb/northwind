{% load static %}
<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="{% static 'css/all.css' %}">
    <!-- Bootstrap -->
    <link rel="stylesheet" href="{% static 'css/bootstrap.css' %}">
    <!-- Custom -->
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <!-- Lightbox -->
    <link rel="stylesheet" href="{% static 'css/lightbox.min.css' %}">
    <!-- Django_Tables2 -->
    <link rel="stylesheet" type="text/css" href="{% static 'django_tables2/themes/bootstrap4.css' %}">
    
    <title>NorthWind {% block title %}{% endblock %}</title>

    <!-- JQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="{% static 'js/jquery-3.3.1.min.js' %} "></script>
    <script src="{% static 'js/bootstrap.bundle.min.js' %} "></script>
    <script src="{% static 'js/lightbox.min.js' %} "></script>
    <script src="{% static 'js/main.js' %} "></script>

    <!-- DataTables.net -->
    <script type="text/javascript" src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.min.js"></script>
    <script> // this should be delivered via CDN cdn.jsdelivr.net/gh/... later
      document.addEventListener("DOMContentLoaded", () => {
        document.querySelectorAll("table.umb-sort-table").forEach( elem => {
          new DataTable(elem, {
            //Remove pagination
            paging: false,
            // Remove table informatoin at bottom
            "info": false,
            "searching": false
          })
        })
      })
    </script>



  </head>

  <body>

    <!-- Top Bar -->
    {% include 'partials/_topbar.html' %}
    <!-- NavBar -->
    {% include 'partials/_navbar.html' %}
    <!-- Main Content -->
    {% block content %} {% endblock %}
    <!-- Footer -->
    {% include 'partials/_footer.html' %}
    <!-- Scripts -->
    {% block pagescripts %}{% endblock %} 
    

    <script> 
      //This is likely not needed until production
      document.body.addEventListener('htmx:configRequest', (event) => {
        event.detail.headers['X-CSRFToken'] = '{{ csrf_token }}';
      })
    </script>
  </body>

</html>